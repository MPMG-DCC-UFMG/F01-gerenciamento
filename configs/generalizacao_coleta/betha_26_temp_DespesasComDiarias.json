{
  "source_name": "[Realiza\u00e7\u00e3o-F01] Coleta de <TAG> de <NOME_MUNICIPIO>",
  "base_url": "<URL_BASE><PARAM_URL>",
  "obey_robots": false,
  "data_path": "/datalake/ufmg/webcrawlerc01/realizacaof01/<MUNICIPIO_PATH>/despesas_com_diarias",
  "request_type": "GET",
  "form_request_type": "POST",
  "antiblock_download_delay": 2,
  "antiblock_autothrottle_enabled": false,
  "antiblock_autothrottle_start_delay": 2,
  "antiblock_autothrottle_max_delay": 10,
  "antiblock_ip_rotation_enabled": false,
  "antiblock_ip_rotation_type": "tor",
  "antiblock_max_reqs_per_ip": 10,
  "antiblock_max_reuse_rounds": 10,
  "antiblock_proxy_list": "",
  "antiblock_user_agent_rotation_enabled": false,
  "antiblock_reqs_per_user_agent": 100,
  "antiblock_user_agents_list": "",
  "antiblock_insert_cookies_enabled": false,
  "antiblock_cookies_list": "",
  "captcha": "none",
  "has_webdriver": false,
  "webdriver_path": "",
  "img_xpath": "",
  "sound_xpath": "",
  "dynamic_processing": true,
  "skip_iter_errors": false,
  "explore_links": false,
  "link_extractor_max_depth": null,
  "link_extractor_allow_url": "",
  "link_extractor_allow_domains": "",
  "link_extractor_tags": "",
  "link_extractor_attrs": "",
  "link_extractor_check_type": false,
  "link_extractor_process_value": "",
  "download_files": false,
  "download_files_allow_url": "",
  "download_files_allow_extensions": "",
  "download_files_allow_domains": "",
  "download_files_tags": "",
  "download_files_attrs": "",
  "download_files_process_value": "",
  "download_files_check_large_content": true,
  "download_imgs": false,
  "steps": "{\"step\":\"root\",\"depth\":0,\"children\":[{\"step\":\"espere\",\"depth\":1,\"arguments\":{\"segundos\":\"4\"}},{\"step\":\"screenshot\",\"depth\":1,\"arguments\":{}},{\"step\":\"clique\",\"depth\":1,\"arguments\":{\"elemento\":\"\\\"//a[text()='Despesas com di\u00e1rias e passagens por credor']\\\"\"}},{\"step\":\"espere\",\"depth\":1,\"arguments\":{\"segundos\":\"2\"}},{\"step\":\"screenshot\",\"depth\":1,\"arguments\":{}},{\"step\":\"para_cada\",\"depth\":1,\"iterator\":\"ano\",\"children\":[{\"step\":\"digite\",\"depth\":2,\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span/div/span/div[1]/div[1]/label/span/input\\\"\",\"texto\":\"f\\\"01/01/{ano}\\\"\"}},{\"step\":\"espere\",\"depth\":2,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"digite\",\"depth\":2,\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span/div/span/div[1]/div[2]/label/span/input\\\"\",\"texto\":\"f\\\"31/12/{ano}\\\"\"}},{\"step\":\"espere\",\"depth\":2,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"clique\",\"depth\":2,\"arguments\":{\"elemento\":\"\\\"//input[@id='mainForm:consultar']\\\"\"}},{\"step\":\"espere\",\"depth\":2,\"arguments\":{\"segundos\":\"4\"}},{\"step\":\"screenshot\",\"depth\":2,\"arguments\":{}},{\"step\":\"imprime\",\"depth\":2,\"arguments\":{\"texto\":\"\\\"Coletando dados de \\\" + str(ano)\"}},{\"step\":\"se\",\"depth\":2,\"children\":[{\"step\":\"salva_pagina\",\"depth\":3,\"arguments\":{}},{\"step\":\"atribuicao\",\"depth\":3,\"target\":\"num_paginas\",\"source\":{\"call\":{\"step\":\"extrai_texto\",\"arguments\":{\"xpath\":\"\\\"//form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[last()-2]\\\"\"}}}},{\"step\":\"atribuicao\",\"depth\":3,\"target\":\"num_paginas\",\"source\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"\\\"2\\\" if int(num_paginas) > 2 else num_paginas\"}}}},{\"step\":\"para_cada\",\"depth\":3,\"iterator\":\"pagina\",\"children\":[{\"step\":\"imprime\",\"depth\":4,\"arguments\":{\"texto\":\"\\\"- coletando p\u00e1gina \\\" + str(pagina)\"}},{\"step\":\"clique\",\"depth\":4,\"arguments\":{\"elemento\":\"f\\\"//form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[text()='{pagina}']\\\"\"}},{\"step\":\"espere\",\"depth\":4,\"arguments\":{\"segundos\":\"2\"}},{\"step\":\"para_cada\",\"depth\":4,\"iterator\":\"credor\",\"children\":[{\"step\":\"atribuicao\",\"depth\":5,\"target\":\"nome\",\"source\":{\"call\":{\"step\":\"extrai_texto\",\"arguments\":{\"xpath\":\"credor\"}}}},{\"step\":\"clique\",\"depth\":5,\"arguments\":{\"elemento\":\"credor\"}},{\"step\":\"espere\",\"depth\":5,\"arguments\":{\"segundos\":\"2\"}},{\"step\":\"imprime\",\"depth\":5,\"arguments\":{\"texto\":\"\\\"-- coletando dados de \\\" + nome\"}},{\"step\":\"clique\",\"depth\":5,\"arguments\":{\"elemento\":\"\\\"//input[@id='btExpand']\\\"\"}},{\"step\":\"espere\",\"depth\":5,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"salva_pagina\",\"depth\":5,\"arguments\":{}},{\"step\":\"para_cada\",\"depth\":5,\"iterator\":\"documento\",\"children\":[{\"step\":\"clique\",\"depth\":6,\"arguments\":{\"elemento\":\"documento\"}},{\"step\":\"espere\",\"depth\":6,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"clique\",\"depth\":6,\"arguments\":{\"elemento\":\"\\\"//input[@id='btExpand']\\\"\"}},{\"step\":\"espere\",\"depth\":6,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"salva_pagina\",\"depth\":6,\"arguments\":{}},{\"step\":\"clique\",\"depth\":6,\"arguments\":{\"elemento\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[3]/table/tbody/tr[3]/td[1]/a\\\"\"}},{\"step\":\"espere\",\"depth\":6,\"arguments\":{\"segundos\":\"1\"}}],\"iterable\":{\"call\":{\"step\":\"localiza_elementos\",\"arguments\":{\"xpath\":\"\\\"//span/table/tbody[*]//a\\\"\"}}}},{\"step\":\"clique\",\"depth\":5,\"arguments\":{\"elemento\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[3]/table/tbody/tr[2]/td[1]/a\\\"\"}},{\"step\":\"espere\",\"depth\":5,\"arguments\":{\"segundos\":\"2\"}}],\"iterable\":{\"call\":{\"step\":\"localiza_elementos\",\"arguments\":{\"xpath\":\"\\\"//tr[*]/td[1]/a\\\"\"}}}}],\"iterable\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"[i for i in range(1, int(num_paginas)+1)]\"}}}}],\"condition\":{\"call\":{\"step\":\"nesse_elemento_esta_escrito\",\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/span/div/div/span[1]\\\"\",\"texto\":\"\\\"Filtros utilizados para elabora\u00e7\u00e3o da consulta:\\\"\"}}}},{\"step\":\"clique\",\"depth\":2,\"arguments\":{\"elemento\":\"\\\"//input[@id='mainForm:novaConsulta']\\\"\"}},{\"step\":\"espere\",\"depth\":2,\"arguments\":{\"segundos\":\"2\"}}],\"iterable\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"[i for i in range(2012,2023)]\"}}}}]}",
  "encoding_detection_method": 1,
  "expected_runtime_category": "fast",
  "templated_url_parameter_handlers": [],
  "static_form_parameter_handlers": [],
  "templated_url_response_handlers": [],
  "static_form_response_handlers": [],
  "crawler_id": 335,
  "instance_id": "165835804783353"
}

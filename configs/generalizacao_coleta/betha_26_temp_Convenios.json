{
  "source_name": "[Realiza\u00e7\u00e3o-F01] Coleta de <TAG> - <SUBTAG> de <NOME_MUNICIPIO>",
  "base_url": "<URL_BASE><PARAM_URL>",
  "obey_robots": false,
  "data_path": "/datalake/ufmg/webcrawlerc01/realizacaof01/<MUNICIPIO_PATH>/terceiro_setor/convenios",
  "request_type": "GET",
  "form_request_type": "POST",
  "antiblock_download_delay": 2,
  "antiblock_autothrottle_enabled": false,
  "antiblock_autothrottle_start_delay": 2,
  "antiblock_autothrottle_max_delay": 10,
  "antiblock_ip_rotation_enabled": false,
  "antiblock_ip_rotation_type": "tor",
  "antiblock_max_reqs_per_ip": 10,
  "antiblock_max_reuse_rounds": 10,
  "antiblock_proxy_list": "",
  "antiblock_user_agent_rotation_enabled": false,
  "antiblock_reqs_per_user_agent": 100,
  "antiblock_user_agents_list": "",
  "antiblock_insert_cookies_enabled": false,
  "antiblock_cookies_list": "",
  "captcha": "none",
  "has_webdriver": false,
  "webdriver_path": "",
  "img_xpath": "",
  "sound_xpath": "",
  "dynamic_processing": true,
  "skip_iter_errors": false,
  "explore_links": false,
  "link_extractor_max_depth": null,
  "link_extractor_allow_url": "",
  "link_extractor_allow_domains": "",
  "link_extractor_tags": "",
  "link_extractor_attrs": "",
  "link_extractor_check_type": false,
  "link_extractor_process_value": "",
  "download_files": false,
  "download_files_allow_url": "",
  "download_files_allow_extensions": "",
  "download_files_allow_domains": "",
  "download_files_tags": "",
  "download_files_attrs": "",
  "download_files_process_value": "",
  "download_files_check_large_content": true,
  "download_imgs": false,
  "steps": "{\"step\":\"root\",\"depth\":0,\"children\":[{\"step\":\"espere\",\"depth\":1,\"arguments\":{\"segundos\":\"4\"}},{\"step\":\"screenshot\",\"depth\":1,\"arguments\":{}},{\"step\":\"clique\",\"depth\":1,\"arguments\":{\"elemento\":\"\\\"//a[text()='Conv\u00eanios']\\\"\"}},{\"step\":\"espere\",\"depth\":1,\"arguments\":{\"segundos\":\"2\"}},{\"step\":\"para_cada\",\"depth\":1,\"iterator\":\"tipo\",\"children\":[{\"step\":\"selecione\",\"depth\":2,\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span[1]/div/span/div[1]/div/label/span/select\\\"\",\"opcao\":\"tipo\"}},{\"step\":\"espere\",\"depth\":2,\"arguments\":{\"segundos\":\"2\"}},{\"step\":\"se\",\"depth\":2,\"children\":[{\"step\":\"para_cada\",\"depth\":3,\"iterator\":\"ano\",\"children\":[{\"step\":\"digite\",\"depth\":4,\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span[1]/div/span/div[2]/div[1]/label/span/input\\\"\",\"texto\":\"f\\\"01/01/{ano}\\\"\"}},{\"step\":\"espere\",\"depth\":4,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"digite\",\"depth\":4,\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span[1]/div/span/div[2]/div[2]/label/span/input\\\"\",\"texto\":\"f\\\"31/12/{ano}\\\"\"}},{\"step\":\"espere\",\"depth\":4,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"clique\",\"depth\":4,\"arguments\":{\"elemento\":\"\\\"//input[@id='mainForm:consultar']\\\"\"}},{\"step\":\"espere\",\"depth\":4,\"arguments\":{\"segundos\":\"6\"}},{\"step\":\"screenshot\",\"depth\":4,\"arguments\":{}},{\"step\":\"atribuicao\",\"depth\":4,\"target\":\"num_paginas\",\"source\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"\\\"1\\\"\"}}}},{\"step\":\"se\",\"depth\":4,\"children\":[{\"step\":\"atribuicao\",\"depth\":5,\"target\":\"num_paginas\",\"source\":{\"call\":{\"step\":\"extrai_texto\",\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[last()-2]\\\"\"}}}}],\"condition\":{\"call\":{\"step\":\"elemento_existe_na_pagina\",\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[last()-2]\\\"\"}}}},{\"step\":\"para_cada\",\"depth\":4,\"iterator\":\"pagina\",\"children\":[{\"step\":\"se\",\"depth\":5,\"children\":[{\"step\":\"clique\",\"depth\":6,\"arguments\":{\"elemento\":\"f\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[text()='{pagina}']\\\"\"}},{\"step\":\"espere\",\"depth\":6,\"arguments\":{\"segundos\":\"4\"}}],\"condition\":{\"call\":{\"step\":\"elemento_existe_na_pagina\",\"arguments\":{\"xpath\":\"f\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/div[2]/div/div[4]/div/div/a[text()='{pagina}']\\\"\"}}}},{\"step\":\"para_cada\",\"depth\":5,\"iterator\":\"aux\",\"children\":[{\"step\":\"clique\",\"depth\":6,\"arguments\":{\"elemento\":\"\\\"//input[@id='btExpandirTodos']\\\"\"}},{\"step\":\"espere\",\"depth\":6,\"arguments\":{\"segundos\":\"1\"}},{\"step\":\"screenshot\",\"depth\":6,\"arguments\":{}},{\"step\":\"salva_pagina\",\"depth\":6,\"arguments\":{}}],\"iterable\":{\"call\":{\"step\":\"localiza_elementos\",\"arguments\":{\"xpath\":\"\\\"//input[@id='btExpandirTodos']\\\"\"}}}}],\"iterable\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"[i for i in range(1,int(num_paginas)+1)]\"}}}},{\"step\":\"clique\",\"depth\":4,\"arguments\":{\"elemento\":\"\\\"//input[@id='mainForm:novaConsulta']\\\"\"}},{\"step\":\"espere\",\"depth\":4,\"arguments\":{\"segundos\":\"2\"}}],\"iterable\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"[str(i) for i in range(2012, 2023)]\"}}}}],\"condition\":{\"call\":{\"step\":\"objeto\",\"arguments\":{\"objeto\":\"tipo != \\\"- Selecione -\\\"\"}}}}],\"iterable\":{\"call\":{\"step\":\"opcoes\",\"arguments\":{\"xpath\":\"\\\"/html/body/div[1]/div[1]/div/div/div/form/div[1]/div[1]/span[1]/div/span/div[1]/div/label/span/select\\\"\"}}}}]}",
  "encoding_detection_method": 1,
  "expected_runtime_category": "fast",
  "templated_url_parameter_handlers": [],
  "static_form_parameter_handlers": [],
  "templated_url_response_handlers": [],
  "static_form_response_handlers": [],
  "crawler_id": 339,
  "instance_id": "16584926700574"
}
